<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OTP Verification</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<style>
    .is-invalid{
        border-color: red;
    }
</style>

<body>
    <div class="flex items-center justify-center min-h-screen bg-gray-100 px-4 md:px-0">
        <div class="flex flex-col md:flex-row w-full max-w-4xl bg-white rounded-lg shadow-lg overflow-hidden">

            <!-- Left Section -->
            <div class="w-full md:w-1/2 p-8 flex flex-col justify-center relative">
                <div class="absolute top-2 left-4 flex items-center">
                    <img src="/images/hand watch2.png" class="h-8 w-8">
                    <p class="text-black font-extrabold text-3xl ml-2">LB</p>
                </div>

                <h2 class="text-2xl font-semibold mt-6 mb-2 text-center md:text-left">Set a new password</h2>
                <p class="text-gray-500 text-sm mt-2 text-center md:text-left mb-6">Create a new password. Ensure it differs from
                    previous ones for security</p>


                <form onsubmit="return validatePass()" action="/reset-password" method="post" class="flex flex-col items-center md:items-start">
                    <label for="password" class="text-black w-full text-left">Password</label>
                    <input class="rounded-xl border p-3 text-black w-full mt-2 focus:outline-none focus:ring-2 focus:ring-blue-500" 
                        type="password" id="password" name="newPass1" placeholder="Enter new password" required>
                        <div class="error-message text-red-800" id="error1"></div>
                    <label for="password" class="text-black w-full text-left">Confirm Password</label>
                    <input class="rounded-xl border p-3 text-black w-full mt-2 focus:outline-none focus:ring-2 focus:ring-blue-500" 
                        type="password" id="confirmPassword" name="newPass2" placeholder="Enter confirm password" required>
                        <div class="error-message text-red-800" id="error2"></div>
                   
                    <button  class="w-full bg-black text-white py-3 mt-6 rounded-lg hover:bg-gray-800 transition">
                        Update Password
                    </button>
                </form>

            </div>
            <div class="hidden md:block w-1/2 h-auto">
                <img src="/images/img 6.webp" alt="Watch" class="w-full h-full object-cover">
            </div>

        </div>
    </div>
    <script>
        function validatePass() {
            const error1 = document.getElementById('error1');
            const error2 = document.getElementById('error2');
            const password = document.getElementById('password');
            const confirmPassword = document.getElementById('confirmPassword');
            const passPattern = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;
            const pass = password.value;
            const cPass = confirmPassword.value;
            let isValid = true;

            error1.innerHTML = "";
            error2.innerHTML = "";
            password.classList.remove("is-invalid");
            confirmPassword.classList.remove("is-invalid");
            if (pass.length < 8) {
                error1.innerHTML = 'Should contain at least 8 characters';
                password.classList.add("is-invalid");
                isValid = false;
            } 
            else if (!passPattern.test(pass)) {
                error1.innerHTML = "Should contain one number, one uppercase letter, one lowercase letter, and one symbol";
                password.classList.add("is-invalid");
                isValid = false;
            }
            if (pass !== cPass) {
                error2.innerHTML = 'Passwords do not match';
                confirmPassword.classList.add("is-invalid");
                isValid = false;
            }
    
            
            return isValid;
        }
    </script>
    
</body>

</html>
